<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{common/layouts/bs_layout}">
<head>
<title>팩토리(PackTory) - 출퇴근관리</title>
<!-- 부트스트랩 icons 가져오기 -->
<th:block layout:fragment="headContents">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
</th:block>
<!-- CSS -->
<th:block layout:fragment="css">
	<!-- dataTables 가져오기 -->
	<link href="/css/datatables/dataTables.bootstrap4.min.css" rel="stylesheet">
	<link href="/css/datatables/datatables.min.css" rel="stylesheet">
	<link href="/css/datepicker/daterangepicker.css" rel="stylesheet">
	<!-- 폰트어썸 가져오기 -->
	<link href="/css/fontawesome/all.min.css" rel="stylesheet">
	<script src="/css/fontawesome/all.min.js"></script>
	<!-- CSS for Page -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&family=Nunito:wght@200..1000&display=swap" rel="stylesheet">
	<link href="/css/sb-admin-2.css" rel="stylesheet">
	<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.7.1/css/buttons.dataTables.min.css">
	<!-- 개별 CSS-->
	<link href="/css/common.css" rel="stylesheet">
</th:block>
</head>
<body id="page-top">
	<div layout:fragment="contents">
		<!-- Begin Page Content -->
		<div class="container-fluid">
			<!-- Page Heading -->
			<h1 class="h3 mb-2 text-gray-800">출/퇴근 관리</h1>

			<!-- ---------- 본문 컨테이너 ---------- -->
			<div class="card shadow mb-4">
				<div class="card-body">
					<div class="table-responsive">
						<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0" th:object="${commuteList}">
							<thead>
								<tr>
									<th>날짜</th>
									<th>사원번호</th>
									<th>부서</th>
									<th>직책</th>
									<th>이름</th>
									<th>출근시간</th>
									<th>퇴근시간</th>
									<th>근무상태</th>
								</tr>
							</thead>
							<tbody>
								<tr th:each="commute, status : ${commuteList}" th:data-id="${commute.workDate}" class="clickable-row">
									<td th:text="${commute.workDate}"></td>
									<td th:text="${commute.employeeId}"></td>
									<td th:text="${commute.department}"></td>
									<td th:text="${commute.position}"></td>
									<td th:text="${commute.name}"></td>
									<td th:text="${commute.checkIn != null ? #temporals.format(commute.checkIn, 'HH:mm:ss') : '-'}"></td>
									<td th:text="${commute.checkOut != null ? #temporals.format(commute.checkOut, 'HH:mm:ss') : '-'}"></td>
									<td th:text="${commute.workStatus}"></td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
			</div>
			<!-- ---------- 본문 컨테이너 끝 ---------- -->
		</div>
		
		<script type="text/javascript">
			document.addEventListener("DOMContentLoaded", function(){
			    $('#dataTable').DataTable({
			        lengthChange: true,    // 건수 선택
			        searching: true,       // 검색
			        info: true,            // 정보 표시
			        ordering: true,        // 정렬
			        paging: true,          // 페이징
			        responsive: true,      // 반응형
			        autoWidth: false,      // 자동 너비 조정 해제
			        dom: '<"top"<"left-length"l><"right-buttons"fB>>rt<"bottom"ip>',
			        buttons: [
			            { extend: 'copy', text: '복사' },
			            { extend: 'excel', text: '엑셀', exportOptions: { columns: ':visible' } },
			            { extend: 'print', text: '프린트' }
			        ]
			    });
			});
		</script>
		
		
		
	</div>
	<th:block layout:fragment="script">
		<!-- Bootstrap core JavaScript-->
		<script src="/js/bootstrap/js/bootstrap.bundle.min.js"></script>
		<script src="/js/jquery-3.7.1.js"></script>
	    <!-- Core plugin JavaScript-->
	    <script src="/js/jquery-easing/jquery.easing.min.js"></script>
	    <!-- Custom scripts for all pages-->
	    <script src="/js/sb-admin-2.min.js"></script>
	   	<!-- Page level plugins -->
		<script src="/js/datatables/jquery.dataTables.min.js"></script>
		<script src="/js/datatables/dataTables.bootstrap4.min.js"></script>
		<script src="/js/demo/datatables-demo.js"></script>
	   	<script src="/js/datepicker/moment.min.js"></script>
	   	<script src="/js/datepicker/daterangepicker.js"></script>
	   	<script src="/js/datatables/dataTables.buttons.min.js"></script>
		<script src="/js/datatables/buttons.html5.min.js"></script>
		<script src="/js/datatables/jszip.min.js"></script>
		<script src="/js/datatables/buttons.print.min.js"></script>
	</th:block>

</body>

</html>